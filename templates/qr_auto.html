<!DOCTYPE html>
<html>
<head>
    <title>Auto QR Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

</head>
<body class="bg-gray-100 font-sans">
<div class="flex h-screen overflow-hidden">
    <aside class="w-64 bg-gray-900 text-white hidden md:flex flex-col">
        <div class="p-6 text-2xl font-bold border-b border-gray-800 flex items-center gap-2">
            <span class="text-emerald-500"><i class="fas fa-utensils"></i></span> QR-Order
        </div>

        <nav class="flex-1 mt-4">
            <a href="/admin" class="sidebar-item  flex items-center py-3 px-6 hover:bg-gray-800">
                <i class="fas fa-chart-line mr-3"></i> Dashboard
            </a>
            <a href="/menu" class="sidebar-item active-nav flex items-center py-3 px-6 hover:bg-gray-800">
                <i class="fas fa-hamburger mr-3"></i> Manage Menu
            </a>
            <a href="/admin/qr" class="flex items-center py-3 px-6 bg-gray-700 border-l-4 border-emerald-500">
                <i class="fas fa-th-large mr-3"></i> Tables & QRs
            </a>
            <a href="/admin/kitchen-users" class="sidebar-item flex items-center py-3 px-6 hover:bg-gray-800">
                <i class="fas fa-utensils mr-3"></i> Kitchen Users
            </a>
            <a href="/admin/profile" class="flex items-center py-3 px-6 hover:bg-gray-800">
            <i class="fas fa-user mr-3"></i> Profile
        </a>
        </nav>

        <div class="p-4 border-t border-gray-800">
            <a href="/logout" class="block w-full text-center bg-red-600 hover:bg-red-700 py-2 rounded-lg transition">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
        </div>
    </aside>
    <main class="flex-1 flex items-center justify-center bg-gray-100">
    <div class="bg-white p-10 rounded-xl shadow-lg w-full h-full md:h-auto md:max-w-2xl">
        <h2 class="text-2xl font-bold mb-4 text-center">
            Auto Generate Table QRs
        </h2>

        <input
            id="tables"
            type="number"
            min="1"
            placeholder="Enter number of tables"
            class="border p-3 w-full rounded mb-4"
        >

        <button onclick="generateQRs()"
            class="bg-emerald-600 hover:bg-emerald-700 text-white py-3 w-full rounded font-bold">
            Generate QR Codes
        </button>

        <div id="result" class="hidden mt-6 text-center">
            <p class="text-green-600 font-semibold mb-3">
                QR Codes Generated Successfully
            </p>
            <a id="zipLink"
                class="text-blue-600 underline font-medium"
                download>
                Download All QRs (ZIP)
            </a>
        </div>
    </div>
    </main>
</div>
<script>
function generateQRs() {
    const tables = document.getElementById("tables").value;

    fetch("/admin/qr/auto", {
        method: "POST",
        headers: {
            "Content-Type": "application/x-www-form-urlencoded"
        },
        body: "table_count=" + tables
    })
    .then(res => res.json())
    .then(data => {
        document.getElementById("zipLink").href = data.zip;
        document.getElementById("result").classList.remove("hidden");
    });
}
</script>

</body>
</html>
